(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[420],{82777:function(e,t){"use strict";Object.prototype.toString},50169:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/Product",function(){return n(41909)}])},41909:function(e,t,n){"use strict";n.r(t);var i=n(85893),r=n(67294),u=n(16626),d=n(97245);t.default=()=>{let{id:e}=(0,u.UO)(),[t,n]=(0,r.useState)(null),[c,s]=(0,r.useState)(!0);(0,r.useEffect)(()=>{(async()=>{let{data:t}=await d.O.from("products").select("*").eq("id",e).single();n(t),s(!1)})()},[e]);let o=async()=>{var e;if(!t)return;let n=null===(e=(await d.O.auth.getUser()).data)||void 0===e?void 0:e.user,i=await fetch("/api/checkout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({price_id:t.price_id,product_id:t.id,user_id:(null==n?void 0:n.id)||null})}),r=await i.json();r.url&&(window.location.href=r.url)};return c?(0,i.jsx)("p",{style:{padding:"2rem"},children:"Loadingâ€¦"}):t?(0,i.jsxs)("div",{style:{padding:"2rem"},children:[(0,i.jsx)("h1",{children:t.name}),(0,i.jsx)("p",{children:t.description}),(0,i.jsxs)("p",{children:["$",t.price]}),(0,i.jsx)("button",{onClick:o,children:"Buy Now"})]}):(0,i.jsx)("p",{style:{padding:"2rem"},children:"Product not found."})}},97245:function(e,t,n){"use strict";n.d(t,{O:function(){return c}});var i=n(8590),r=n(83454);let u=r.env.REACT_APP_SUPABASE_URL,d=r.env.REACT_APP_SUPABASE_ANON_KEY,c=(0,i.eI)(u,d);t.Z=c}},function(e){e.O(0,[102,990,888,774,179],function(){return e(e.s=50169)}),_N_E=e.O()}]);