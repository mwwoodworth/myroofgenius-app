(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[354],{18783:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/Account",function(){return n(22678)}])},22678:function(e,t,n){"use strict";n.r(t);var r=n(85893),u=n(67294),s=n(97245);t.default=()=>{let[e,t]=(0,u.useState)(null),[n,i]=(0,u.useState)([]);(0,u.useEffect)(()=>{(async()=>{let{data:e}=await s.O.auth.getUser();t(e.user)})()},[]),(0,u.useEffect)(()=>{e&&(async()=>{let{data:t}=await s.O.from("orders").select("id, amount, status, created_at, products (name)").eq("user_id",e.id).order("created_at",{ascending:!1});i(t||[])})()},[e]);let c=async()=>{await s.O.auth.signInWithOAuth({provider:"github"})};return e?(0,r.jsxs)("div",{style:{padding:"2rem"},children:[(0,r.jsx)("h1",{children:"Your Orders"}),0===n.length?(0,r.jsx)("p",{children:"No orders yet."}):(0,r.jsx)("ul",{children:n.map(e=>{var t;return(0,r.jsxs)("li",{children:[(null===(t=e.products)||void 0===t?void 0:t.name)||"Product"," – $",e.amount," – ",e.status]},e.id)})})]}):(0,r.jsxs)("div",{style:{padding:"2rem"},children:[(0,r.jsx)("h1",{children:"Your Account"}),(0,r.jsx)("button",{onClick:c,children:"Sign in with GitHub"})]})}},97245:function(e,t,n){"use strict";n.d(t,{O:function(){return c}});var r=n(8590),u=n(83454);let s=u.env.REACT_APP_SUPABASE_URL,i=u.env.REACT_APP_SUPABASE_ANON_KEY,c=(0,r.eI)(s,i);t.Z=c}},function(e){e.O(0,[990,888,774,179],function(){return e(e.s=18783)}),_N_E=e.O()}]);